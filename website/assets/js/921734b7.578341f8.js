"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5968],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),h=u(n),m=r,g=h["".concat(l,".").concat(m)]||h[m]||c[m]||o;return n?a.createElement(g,i(i({ref:t},p),{},{components:n})):a.createElement(g,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},4830:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return c}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],s={id:"help",title:"How to contribute"},l=void 0,u={unversionedId:"help",id:"version-v3.12.x/help",title:"How to contribute",description:"Thanks for your interest in contributing to the Gatekeeper project! This document will help answer common questions you may have during your contribution.",source:"@site/versioned_docs/version-v3.12.x/help.md",sourceDirName:".",slug:"/help",permalink:"/gatekeeper/website/docs/help",draft:!1,editUrl:"https://github.com/open-policy-agent/gatekeeper/edit/master/website/versioned_docs/version-v3.12.x/help.md",tags:[],version:"v3.12.x",frontMatter:{id:"help",title:"How to contribute"},sidebar:"docs",previous:{title:"Developers",permalink:"/gatekeeper/website/docs/developers"},next:{title:"Security",permalink:"/gatekeeper/website/docs/security"}},p={},c=[{value:"Where to start?",id:"where-to-start",level:2},{value:"Contributing Process",id:"contributing-process",level:2},{value:"Developer Certification of Origin (DCO)",id:"developer-certification-of-origin-dco",level:3},{value:"DCO Sign-Off via the command line",id:"dco-sign-off-via-the-command-line",level:4},{value:"Pull Request Review Process",id:"pull-request-review-process",level:3},{value:"Pull Request Test Requirements",id:"pull-request-test-requirements",level:4},{value:"Optional benchmarking of changes",id:"optional-benchmarking-of-changes",level:4},{value:"Contributing to Docs",id:"contributing-to-docs",level:2},{value:"Contributing to Helm Chart",id:"contributing-to-helm-chart",level:2},{value:"Contributing to Code",id:"contributing-to-code",level:2}],h={toc:c};function m(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Thanks for your interest in contributing to the Gatekeeper project! This document will help answer common questions you may have during your contribution."),(0,o.kt)("h2",{id:"where-to-start"},"Where to start?"),(0,o.kt)("p",null,"Join us to help define the direction and implementation of this project!"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"File ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/open-policy-agent/gatekeeper/issues"},"GitHub Issues"),"\nto report bugs, request features, or ask questions asynchronously.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Ask questions in ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/open-policy-agent/community/discussions/categories/gatekeeper"},"OPA Gatekeeper Community Discussions"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Join the ",(0,o.kt)("a",{parentName:"p",href:"https://openpolicyagent.slack.com/messages/CDTN970AX"},(0,o.kt)("inlineCode",{parentName:"a"},"#opa-gatekeeper")),"\nchannel on ",(0,o.kt)("a",{parentName:"p",href:"https://slack.openpolicyagent.org/"},"OPA Slack")," to talk to the maintainers and other contributors asynchronously.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Join ",(0,o.kt)("a",{parentName:"p",href:"https://docs.google.com/document/d/1A1-Q-1OMw3QODs1wT6eqfLTagcGmgzAJAjJihiO3T48/edit"},"weekly meetings")," to discuss development, issues, use cases, etc with maintainers and other contributors.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Add a policy to the ",(0,o.kt)("a",{parentName:"p",href:"https://www.github.com/open-policy-agent/gatekeeper-library"},"Gatekeeper policy library"),"."))),(0,o.kt)("h2",{id:"contributing-process"},"Contributing Process"),(0,o.kt)("p",null,"Please follow these 3 steps for contributions:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Commit changes to a git branch in your fork, making sure to sign-off those changes for the ",(0,o.kt)("a",{parentName:"li",href:"#developer-certification-of-origin-dco"},"Developer Certificate of Origin"),"."),(0,o.kt)("li",{parentName:"ol"},"Create a GitHub Pull Request for your change, following the instructions in the pull request template and use ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/zeke/semantic-pull-requests"},"semantic PR title")),(0,o.kt)("li",{parentName:"ol"},"Perform a ",(0,o.kt)("a",{parentName:"li",href:"#pull-request-review-process"},"Pull Request Review")," with the project maintainers on the pull request.")),(0,o.kt)("h3",{id:"developer-certification-of-origin-dco"},"Developer Certification of Origin (DCO)"),(0,o.kt)("p",null,"This project requires contributors to sign a DCO (Developer Certificate of Origin) to ensure that the project has the proper rights to use your code. "),(0,o.kt)("p",null,"The DCO is an attestation attached to every commit made by every developer. In the commit message of the contribution, the developer simply adds a Signed-off-by statement and thereby agrees to the DCO, which you can find at ",(0,o.kt)("a",{parentName:"p",href:"http://developercertificate.org/"},"http://developercertificate.org/"),"."),(0,o.kt)("h4",{id:"dco-sign-off-via-the-command-line"},"DCO Sign-Off via the command line"),(0,o.kt)("p",null,"Configure your local git to sign off your username and email address that is associated with your GitHub user account."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'$ git config --global user.name "John Doe" \n$ git config --global user.email johndoe@example.com \n')),(0,o.kt)("p",null,"Then, for every commit, add a signoff statement via the ",(0,o.kt)("inlineCode",{parentName:"p"},"-s")," flag. "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'$ git commit -s -m "This is my commit message"\n')),(0,o.kt)("p",null,"If you forget to add the sign-off you can also amend a previous commit with the sign-off by running ",(0,o.kt)("inlineCode",{parentName:"p"},"git commit --amend -s"),". If you've pushed your changes to GitHub already you'll need to force push your branch with ",(0,o.kt)("inlineCode",{parentName:"p"},"git push -f"),"."),(0,o.kt)("h3",{id:"pull-request-review-process"},"Pull Request Review Process"),(0,o.kt)("p",null,"Please take a look at ",(0,o.kt)("a",{parentName:"p",href:"https://help.github.com/articles/about-pull-requests/"},"this article")," if you're not familiar with GitHub Pull Requests."),(0,o.kt)("p",null,"Once you open a pull request, project maintainers will review your changes and respond to your pull request with any feedback they might have."),(0,o.kt)("h4",{id:"pull-request-test-requirements"},"Pull Request Test Requirements"),(0,o.kt)("p",null,"For code updates, to ensure high quality commits, we require that all pull requests to this project meet these specifications:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Tests:")," We require all the code in Gatekeeper to have at least unit test coverage."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Green CI Tests:")," We require these test runs to succeed on every pull request before being merged.")),(0,o.kt)("h4",{id:"optional-benchmarking-of-changes"},"Optional benchmarking of changes"),(0,o.kt)("p",null,"To ensure that any changes made to the code do not negatively impact its performance, you can run benchmark tests on the changes included in a pull request. To do this, simply comment ",(0,o.kt)("inlineCode",{parentName:"p"},"/benchmark")," on the pull request. This will trigger the benchmark tests to run on both the current HEAD and the code changes in the pull request. The results of the benchmark tests will then be commented on the pull request using ",(0,o.kt)("a",{parentName:"p",href:"https://pkg.go.dev/golang.org/x/perf/cmd/benchstat"},"benchstat"),"."),(0,o.kt)("p",null,"If you are introducing a new feature, doing a big refactor, or fixing a critical bug, it's especially important to run benchmark tests on the changes you are trying to merge. This will help ensure that the changes do not negatively impact the performance of the code and that it continues to function as expected."),(0,o.kt)("p",null,"Below is the sample output that will be commented on the pull request:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"name                                              old time/op  new time/op  delta\npkg:github.com/open-policy-agent/gatekeeper/v3/pkg/mutation goos:linux goarch:amd64\nSystem_Mutate                                     1.48\xb5s \xb1 5%  1.50\xb5s \xb1 4%    ~     (p=0.468 n=10+10)\npkg:github.com/open-policy-agent/gatekeeper/v3/pkg/mutation/mutators/assign goos:linux goarch:amd64\nAssignMutator_Mutate/always_mutate_1-depth         235ns \xb1 5%   234ns \xb1 5%    ~     (p=0.726 n=10+10)\nAssignMutator_Mutate/always_mutate_2-depth         287ns \xb1 6%   279ns \xb1 5%    ~     (p=0.190 n=10+10)\nAssignMutator_Mutate/always_mutate_5-depth         420ns \xb1 2%   416ns \xb1 3%    ~     (p=0.297 n=9+9)\nAssignMutator_Mutate/always_mutate_10-depth        556ns \xb1 4%   570ns \xb1 6%    ~     (p=0.123 n=10+10)\nAssignMutator_Mutate/always_mutate_20-depth        977ns \xb1 3%   992ns \xb1 2%    ~     (p=0.063 n=10+10)\nAssignMutator_Mutate/never_mutate_1-depth          196ns \xb1 4%   197ns \xb1 6%    ~     (p=0.724 n=10+10)\nAssignMutator_Mutate/never_mutate_2-depth          221ns \xb1 4%   222ns \xb1 4%    ~     (p=0.971 n=10+10)\nAssignMutator_Mutate/never_mutate_5-depth          294ns \xb1 4%   296ns \xb1 4%    ~     (p=0.436 n=10+10)\nAssignMutator_Mutate/never_mutate_10-depth         424ns \xb1 2%   425ns \xb1 3%    ~     (p=0.905 n=9+10)\nAssignMutator_Mutate/never_mutate_20-depth         682ns \xb1 3%   680ns \xb1 5%    ~     (p=0.859 n=9+10)\npkg:github.com/open-policy-agent/gatekeeper/v3/pkg/mutation/mutators/assignimage goos:linux goarch:amd64\nAssignImageMutator_Mutate/always_mutate_1-depth    579ns \xb1 7%   573ns \xb1 3%    ~     (p=0.650 n=9+9)\nAssignImageMutator_Mutate/always_mutate_2-depth    625ns \xb1 5%   627ns \xb1 2%    ~     (p=0.536 n=10+9)\nAssignImageMutator_Mutate/always_mutate_5-depth    758ns \xb1 5%   768ns \xb1 6%    ~     (p=0.631 n=10+10)\nAssignImageMutator_Mutate/always_mutate_10-depth  1.06\xb5s \xb1 8%  1.08\xb5s \xb1 5%    ~     (p=0.143 n=10+10)\nAssignImageMutator_Mutate/always_mutate_20-depth  1.38\xb5s \xb1 3%  1.42\xb5s \xb1 3%  +2.80%  (p=0.003 n=9+10)\nAssignImageMutator_Mutate/never_mutate_1-depth     237ns \xb1 3%   233ns \xb1 3%    ~     (p=0.107 n=10+9)\nAssignImageMutator_Mutate/never_mutate_2-depth     266ns \xb1 4%   266ns \xb1 3%    ~     (p=1.000 n=10+10)\nAssignImageMutator_Mutate/never_mutate_5-depth     336ns \xb1 6%   342ns \xb1 2%  +1.85%  (p=0.037 n=10+9)\nAssignImageMutator_Mutate/never_mutate_10-depth    463ns \xb1 3%   479ns \xb1 5%  +3.53%  (p=0.013 n=9+10)\nAssignImageMutator_Mutate/never_mutate_20-depth    727ns \xb1 3%   727ns \xb1 2%    ~     (p=0.897 n=10+8)\n...\n")),(0,o.kt)("p",null,"If a significantly positive increase in the delta occurs, it could suggest that the changes being implemented have a negative impact on the respective package. However, there might be cases where the delta may be higher even without significant changes. In such situations, it is advisable to rerun the benchmarks for more precise and accurate results."),(0,o.kt)("h2",{id:"contributing-to-docs"},"Contributing to Docs"),(0,o.kt)("p",null,"If you want to contribute to docs, Gatekeeper auto-generates versioned docs. If you have any doc changes for a particular version, please update in ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/open-policy-agent/gatekeeper/tree/master/website/docs"},"website/docs")," as well as in ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/open-policy-agent/gatekeeper/tree/master/website/versioned_docs"},"website/versioned_docs/version-vx.y.z")," directory. If the change is for next release, please update in ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/open-policy-agent/gatekeeper/tree/master/website/docs"},"website/docs"),", then the change will be part of next versioned doc when we do a new release."),(0,o.kt)("h2",{id:"contributing-to-helm-chart"},"Contributing to Helm Chart"),(0,o.kt)("p",null,"If you want to contribute to Helm chart, Gatekeeper auto-generates versioned Helm charts from static manifests. If you have any changes in ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/open-policy-agent/gatekeeper/tree/master/charts"},"charts")," directory, they will get clobbered when we do a new release. The generator code lives under ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/open-policy-agent/gatekeeper/tree/master/cmd/build/helmify"},"cmd/build/helmify"),". To make modifications to this template, please edit ",(0,o.kt)("inlineCode",{parentName:"p"},"kustomization.yaml"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"kustomize-for-helm.yaml")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"replacements.go")," under that directory and then run ",(0,o.kt)("inlineCode",{parentName:"p"},"make manifests")," to generate changes in the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/open-policy-agent/gatekeeper/tree/master/manifest_staging"},"manifest_staging")," directory. You should push all the modified files to your PR. Once it's merged, the changes will be promoted to the root charts directory the next time a Gatekeeper release is cut."),(0,o.kt)("h2",{id:"contributing-to-code"},"Contributing to Code"),(0,o.kt)("p",null,"If you want to contribute code, check out the ",(0,o.kt)("a",{parentName:"p",href:"/gatekeeper/website/docs/developers"},"Developers")," guide to get started."))}m.isMDXComponent=!0}}]);